<div class="its-card">
  <h3 class="card-header ps-3">Stock History</h3>
  <div class="form">    
    <form [formGroup]="stockHistoryForm" (ngSubmit)="onSubmit()">
        <div class="col-6">
          <label for="uniqueId">Unique Id Number*</label>
          <input class="form-control" type="text" id="uniqueId" formControlName="uniqueId" required>
          <div
            *ngIf="stockHistoryForm.controls.uniqueId.invalid && (stockHistoryForm.controls.uniqueId.dirty || stockHistoryForm.controls.uniqueId.touched)"
            class="invalid-red">
            <div *ngIf="stockHistoryForm.controls.uniqueId.errors.required">
              Unique Id Number is required.
            </div>
          </div>
        </div>
        <div class="form-group mt-3">
          <button type="submit" [disabled]="stockHistoryForm.invalid" mat-flat-button color="primary">Submit</button>
        </div>
    </form>
    <hr>
    <div class="stock-history card-body flex-center">
        <mat-spinner *ngIf=showSpinner diameter=125></mat-spinner>
      
        <div *ngIf=!showSpinner>
          <div class="cloths mt-10">
            <dx-data-grid id="gridContainer"
                    [dataSource]="viewClothData"
                    [showBorders]="true"
                    [rowAlternationEnabled]="true"
                    [allowColumnResizing]="true"
                    [allowColumnReordering]="true"
                  >
                <dxo-scrolling mode="virtual"></dxo-scrolling>
                <dxo-filter-row [visible]="true"></dxo-filter-row>
                <dxo-header-filter [visible]="true"></dxo-header-filter>
                <dxo-column-chooser [enabled]="true" mode="select" [allowSearch]="true"></dxo-column-chooser>
    
                <dxo-group-panel [visible]="true"></dxo-group-panel>
                <dxo-grouping [autoExpandAll]="true"></dxo-grouping>
      
                <dxi-column dataField="cloth" caption="Cloth"></dxi-column>
                <dxi-column dataField="sub_category" caption="Sub Category"></dxi-column>
                <dxi-column dataField="measuring_unit" caption="Measuring Unit"></dxi-column>
                <dxi-column dataField="avl_qty" caption="Available Qty"></dxi-column>  
                <dxi-column dataField="bill_number" caption="Bill Number" [visible]="false"></dxi-column>
                <dxi-column dataField="date" caption="Date" [visible]="false"></dxi-column>
                <dxi-column dataField="packing_slip_number" caption="Packing Slip Number" [visible]="false"></dxi-column>
                <dxi-column dataField="supplier_name" caption="Supplier Name" [visible]="false"></dxi-column>
                <dxi-column dataField="material" caption="Material" [visible]="false"></dxi-column>
                <dxi-column dataField="color_fabric_code" caption="Color Fabric Code" [visible]="false"></dxi-column>
      
                <dxo-search-panel [visible]="true"></dxo-search-panel>
            </dx-data-grid>       
          </div>
        </div>
    </div>
  </div>
</div>

  